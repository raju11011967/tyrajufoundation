<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TY RAJU FOUNDATION</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #e6f2ff; /* Very light blue background */
        }
        header {
            background-color: #004d99; /* Dark blue header */
            color: white;
            padding: 1rem;
            text-align: center;
        }
        nav {
            display: flex;
            flex-wrap: wrap;
            background-color: #0066cc; /* Medium blue nav bar */
            justify-content: center;
        }
        nav button {
            background: none;
            color: white;
            border: none;
            padding: 1rem;
            cursor: pointer;
        }
        nav button:hover, nav button.active {
            background-color: #0059b3; /* Hover color */
        }
        .tab-content {
            display: none;
            padding: 1rem;
            background-color: #fff; /* White background for content */
            margin: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .tab-content.active {
            display: block;
        }
        a {
            color: #004d99; /* Blue color for links */
            text-decoration: none;
            display: block;
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }
        a:hover {
            background-color: #e6f2ff; /* Light blue hover background */
        }
        .lang-toggle {
            float: right;
            background: #004d99;
            color: white;
            border: 1px solid white;
            padding: 0.5rem;
            margin-top: -3rem;
            margin-right: 1rem;
            cursor: pointer;
            border-radius: 4px;
        }
        
        /* --- MODIFIED CSS FOR GALLERY --- */
        .gallery-item {
            display: inline-flex; /* Use flexbox for layout */
            flex-direction: column; /* Stack children vertically */
            vertical-align: top; /* Align items from the top */
            margin: 0.5rem;
            border: 1px solid #ddd;
            padding: 8px;
            border-radius: 4px;
            background-color: #f9f9f9;
        }
        .gallery-item img, .gallery-item video {
            max-width: 150px;
            height: auto;
            display: block;
            border-radius: 4px;
        }
        .gallery-item button {
            /* Removed absolute positioning to place it in the normal document flow */
            margin-top: 8px; /* Add space between the media and the button */
            background: #cc0000;
            color: white;
            border: none;
            cursor: pointer;
            padding: 6px 8px;
            border-radius: 4px;
            width: 100%; /* Make button fill the container width */
        }
    </style>
</head>
<body>
    <header>
        <h1>TY RAJU FOUNDATION</h1>
        <button class="lang-toggle" onclick="toggleLanguage()">తెలుగు</button>
    </header>
    <nav id="tabs">
        <button onclick="openTab('home')" class="active">Home</button>
        <button onclick="openTab('overview')">Overview</button>
        <button onclick="openTab('kgv')">KG–V</button>
        <button onclick="openTab('vix')">VI–X</button>
        <button onclick="openTab('intermediate')">Intermediate</button>
        <button onclick="openTab('universities')">Universities</button>
        <button onclick="openTab('scholarships')">Scholarships</button>
        <button onclick="openTab('library')">Library Resources</button>
        <button onclick="openTab('admissions')">Admissions</button>
        <button onclick="openTab('gurukulas')">Gurukulas</button>
        <button onclick="openTab('sainik')">Sainik Schools</button>
        <button onclick="openTab('gallery')">Gallery</button>
    </nav>
    <div id="home" class="tab-content active">
        <h2>Welcome to TY Raju Foundation</h2>
        <p contenteditable="true">You can edit this area to customize the home page text.</p>
    </div>
    <div id="overview" class="tab-content">
        <h2>Overview</h2>
        <p>TY Raju Foundation supports free education from KG to PG in Telangana. Explore scholarships, admissions, libraries, and special institutions.</p>
    </div>
    <div id="kgv" class="tab-content">
        <h2>KG–V Schools in Telangana</h2>
        <a href="https://school.edu.telangana.gov.in/KGV1">Anganwadi Directory</a>
        <a href="https://www.dietku.org">DIET Karimnagar</a>
    </div>
    <div id="vix" class="tab-content">
        <h2>VI–X Schools in Telangana</h2>
        <a href="https://schooledu.telangana.gov.in">School Education Dept</a>
        <a href="https://bsetelangana.org">Board of Secondary Education</a>
    </div>
    <div id="intermediate" class="tab-content">
        <h2>Intermediate Colleges</h2>
        <a href="https://tsbie.cgg.gov.in">TSBIE Official</a>
        <a href="https://tsbie.cgg.gov.in/junior_colleges">Junior Colleges List</a>
    </div>
    <div id="universities" class="tab-content">
        <h2>Universities</h2>
        <a href="https://www.osmania.ac.in/">Osmania University</a>
        <a href="https://kakatiya.ac.in/">Kakatiya University</a>
    </div>
    <div id="scholarships" class="tab-content">
        <h2>Scholarships</h2>
        <a href="https://scholarships.gov.in">NSP Portal</a>
        <a href="https://telanganaepass.cgg.gov.in">TS ePASS</a>
    </div>
    <div id="library" class="tab-content">
        <h2>Library Resources</h2>
        <a href="https://ndl.iitkgp.ac.in">National Digital Library</a>
        <a href="https://epgp.inflibnet.ac.in">ePGPathshala</a>
    </div>
    <div id="admissions" class="tab-content">
        <h2>Admissions</h2>
        <a href="https://tsbie.cgg.gov.in">Intermediate Admissions</a>
        <a href="https://dost.cgg.gov.in">Degree Online Services</a>
    </div>
    <div id="gurukulas" class="tab-content">
        <h2>Gurukulas</h2>
        <a href="https://tgtwgurukulam.telangana.gov.in">Tribal Gurukulam</a>
        <a href="https://tgtelanganagurukulam.telangana.gov.in">BC Gurukulam</a>
    </div>
    <div id="sainik" class="tab-content">
        <h2>Sainik Schools</h2>
        <a href="https://sainikschooltvm.nic.in">Sainik School TVM</a>
        <a href="https://sainikschooladmission.in">Admissions Portal</a>
    </div>
    <div id="gallery" class="tab-content">
        <h2>Gallery</h2>
        <label for="fileInput">Upload Images or Videos</label>
        <input type="file" id="fileInput" multiple accept="image/*,video/*" /><br /><br />
        <div id="galleryContainer" class="gallery-container"></div>
    </div>
    <script>
        // Tab switching logic
        function openTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('#tabs button').forEach(btn => {
                btn.classList.remove('active');
            });
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
            // Add the "active" class to the clicked button
            event.target.classList.add('active');
        }

        // Language toggle logic
        function toggleLanguage() {
            const buttons = document.querySelectorAll("nav button");
            buttons.forEach(btn => {
                btn.textContent = translateLabel(btn.textContent);
            });
        }

        function translateLabel(text) {
            const telugu = {
                "Home": "హోం",
                "Overview": "అవలోకనం",
                "KG–V": "కెజి–ఐదు",
                "VI–X": "ఆరు–పది",
                "Intermediate": "ఇంటర్మీడియట్",
                "Universities": "విశ్వవిద్యాలయాలు",
                "Scholarships": "ఉపకారవేతనాలు",
                "Library Resources": "లైబ్రరీ వనరులు",
                "Admissions": "ప్రవేశాలు",
                "Gurukulas": "గురుకులాలు",
                "Sainik Schools": "సైనిక్ పాఠశాలలు",
                "Gallery": "గ్యాలరీ"
            };
            // This logic allows for toggling back and forth
            return telugu[text] || Object.keys(telugu).find(key => telugu[key] === text) || text;
        }

        // --- LOCAL STORAGE INTEGRATION ---
        function saveHomeContent() {
            const homeContent = document.querySelector('#home p[contenteditable="true"]');
            if (homeContent) {
                localStorage.setItem('homeContent', homeContent.innerHTML);
            }
        }

        function saveGallery() {
            const galleryItems = [];
            document.querySelectorAll('#galleryContainer .gallery-item').forEach(item => {
                const media = item.querySelector('img, video');
                galleryItems.push({
                    src: media.src,
                    type: media.tagName.toLowerCase()
                });
            });
            localStorage.setItem('galleryItems', JSON.stringify(galleryItems));
        }

        function loadGallery() {
            const savedGallery = JSON.parse(localStorage.getItem('galleryItems'));
            if (savedGallery) {
                const gallery = document.getElementById('galleryContainer');
                gallery.innerHTML = '';
                savedGallery.forEach(item => {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'gallery-item';
                    const media = item.type === 'video' ? document.createElement('video') : document.createElement('img');
                    media.src = item.src;
                    if (media.tagName === 'VIDEO') media.controls = true;

                    const delBtn = document.createElement('button');
                    delBtn.textContent = 'Delete';
                    delBtn.onclick = () => {
                        wrapper.remove();
                        saveGallery();
                    };

                    wrapper.appendChild(media);
                    wrapper.appendChild(delBtn);
                    gallery.appendChild(wrapper);
                });
            }
        }

        document.getElementById('fileInput').addEventListener('change', function (event) {
            const gallery = document.getElementById('galleryContainer');
            Array.from(event.target.files).forEach(file => {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'gallery-item';
                    const media = file.type.startsWith('video') ? document.createElement('video') : document.createElement('img');
                    media.src = e.target.result;
                    if (media.tagName === 'VIDEO') media.controls = true;
                    const delBtn = document.createElement('button');
                    delBtn.textContent = 'Delete';
                    delBtn.onclick = () => {
                        wrapper.remove();
                        saveGallery();
                    };
                    wrapper.appendChild(media);
                    wrapper.appendChild(delBtn);
                    gallery.appendChild(wrapper);
                    saveGallery();
                };
                reader.readAsDataURL(file);
            });
        });

        document.addEventListener("DOMContentLoaded", function () {
            const savedHomeContent = localStorage.getItem('homeContent');
            const homeParagraph = document.querySelector('#home p[contenteditable="true"]');
            if (savedHomeContent && homeParagraph) {
                homeParagraph.innerHTML = savedHomeContent;
            }

            if (homeParagraph) {
                homeParagraph.addEventListener('input', saveHomeContent);
            }

            loadGallery();
            // This is the important part, we need to ensure a tab is open on page load
            const initialTab = document.querySelector('nav button.active');
            if (initialTab) {
                openTab(initialTab.getAttribute('onclick').match(/'(.*?)'/)[1]);
            }
        });
    </script>
</body>
</html>
