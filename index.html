<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="TY Raju Foundation supports free education in Telangana from KG to PG, offering resources for scholarships, admissions, and more.">
  <meta name="keywords" content="TY Raju Foundation, Telangana education, scholarships, gurukulas, sainik schools">
  <title>TY Raju Foundation - Free Education in Telangana</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #e8f0ff;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #004080;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      background-color: #0066cc;
      justify-content: center;
    }
    nav button {
      background: none;
      color: white;
      border: none;
      padding: 1rem;
      cursor: pointer;
      font-size: 1rem;
    }
    nav button:hover,
    nav button.active {
      background-color: #004080;
    }
    .tab-content {
      display: none;
      padding: 1rem;
    }
    .tab-content.active {
      display: block;
    }
    a {
      color: #003366;
      text-decoration: none;
      display: block;
      margin: 0.5rem 0;
    }
    .lang-toggle {
      float: right;
      background: #004080;
      color: white;
      border: none;
      padding: 0.5rem;
      margin-top: -3rem;
      margin-right: 1rem;
      cursor: pointer;
    }
    .gallery-item {
      display: inline-block;
      margin: 0.5rem;
      text-align: center;
    }
    .gallery-item img,
    .gallery-item video {
      max-width: 150px;
      height: auto;
      display: block;
      margin: 0 auto;
    }
    .gallery-item button {
      display: block;
      margin: 0.5rem auto;
      background: red;
      color: white;
      border: none;
      cursor: pointer;
      padding: 0.3rem 0.6rem;
    }
    nav button:focus {
      outline: 2px solid #fff;
    }
  </style>
</head>
<body>
  <header>
    <h1>TY Raju Foundation</h1>
    <button class="lang-toggle" onclick="toggleLanguage()" aria-label="Toggle language between English and Telugu">తెలుగు</button>
  </header>
  <nav id="tabs" role="tablist">
    <button onclick="openTab('home', this)" class="active" role="tab" aria-selected="true" data-en="Home" data-te="హోం">Home</button>
    <button onclick="openTab('overview', this)" role="tab" data-en="Overview" data-te="అవలోకనం">Overview</button>
    <button onclick="openTab('kgv', this)" role="tab" data-en="KG–V" data-te="కెజి–ఐదు">KG–V</button>
    <button onclick="openTab('vix', this)" role="tab" data-en="VI–X" data-te="ఆరు–పది">VI–X</button>
    <button onclick="openTab('intermediate', this)" role="tab" data-en="Intermediate" data-te="ఇంటర్మీడియట్">Intermediate</button>
    <button onclick="openTab('universities', this)" role="tab" data-en="Universities" data-te="విశ్వవిద్యాలయాలు">Universities</button>
    <button onclick="openTab('scholarships', this)" role="tab" data-en="Scholarships" data-te="ఉపకారవేతనాలు">Scholarships</button>
    <button onclick="openTab('library', this)" role="tab" data-en="Library Resources" data-te="లైబ్రరీ వనరులు">Library Resources</button>
    <button onclick="openTab('admissions', this)" role="tab" data-en="Admissions" data-te="ప్రవేశాలు">Admissions</button>
    <button onclick="openTab('gurukulas', this)" role="tab" data-en="Gurukulas" data-te="గురుకులాలు">Gurukulas</button>
    <button onclick="openTab('sainik', this)" role="tab" data-en="Sainik Schools" data-te="సైనిక్ పాఠశాలలు">Sainik Schools</button>
    <button onclick="openTab('gallery', this)" role="tab" data-en="Gallery" data-te="గ్యాలరీ">Gallery</button>
    <button onclick="openTab('tyrflibrary', this)" role="tab" data-en="TYRFLibrary" data-te="టివైఆర్‌ఎఫ్ లైబ్రరీ">TYRFLibrary</button>
  </nav>
  <div id="home" class="tab-content active" role="tabpanel">
    <h2 data-en="Welcome to TY Raju Foundation" data-te="టివై రాజు ఫౌండేషన్‌కు స్వాగతం">Welcome to TY Raju Foundation</h2>
    <p contenteditable="true">You can edit this area to customize the home page text.</p>
  </div>

  <!-- Other sections omitted for brevity -->

  <div id="gallery" class="tab-content" role="tabpanel">
    <h2 data-en="Gallery" data-te="గ్యాలరీ">Gallery</h2>
    <label for="upload" data-en="Upload Images or Videos" data-te="చిత్రాలు లేదా వీడియోలను అప్‌లోడ్ చేయండి">Upload Images or Videos:</label>
    <input type="file" id="upload" multiple accept="image/*,video/*">
    <div id="galleryContainer" class="gallery-container"></div>
  </div>

  <script>
    let isTelugu = true;

    function openTab(tabId, button) {
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('#tabs button').forEach(btn => {
        btn.classList.remove('active');
        btn.setAttribute('aria-selected', 'false');
      });
      const selectedTab = document.getElementById(tabId);
      if (selectedTab) selectedTab.classList.add('active');
      button.classList.add('active');
      button.setAttribute('aria-selected', 'true');
    }

    function toggleLanguage() {
      isTelugu = !isTelugu;
      const langButton = document.querySelector('.lang-toggle');
      langButton.textContent = isTelugu ? 'English' : 'తెలుగు';
      langButton.setAttribute('aria-label', `Toggle language to ${isTelugu ? 'English' : 'Telugu'}`);
      document.querySelectorAll('[data-en][data-te]').forEach(element => {
        element.textContent = isTelugu ? element.dataset.te : element.dataset.en;
      });
    }

    function loadGalleryFromStorage() {
      const stored = JSON.parse(localStorage.getItem("galleryMedia") || "[]");
      const container = document.getElementById("galleryContainer");
      container.innerHTML = ""; // Clear existing gallery
      stored.forEach((item, index) => {
        const wrapper = document.createElement("div");
        wrapper.className = "gallery-item";

        const media = item.type === "video" ? document.createElement("video") : document.createElement("img");
        media.src = item.data;

        if (item.type === "video") {
          media.controls = true; // Add controls to video
        }
        
        // Create delete button
        const delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.setAttribute("aria-label", `Delete ${item.type} ${index + 1}`);
        delBtn.onclick = () => {
          stored.splice(index, 1);
          localStorage.setItem("galleryMedia", JSON.stringify(stored));
          loadGalleryFromStorage(); // Refresh gallery display
        };
        
        wrapper.appendChild(media);
        wrapper.appendChild(delBtn);
        container.appendChild(wrapper);
      });
    }

    document.getElementById("upload").addEventListener("change", function (event) {
      const files = Array.from(event.target.files);
      const stored = JSON.parse(localStorage.getItem("galleryMedia") || "[]");

      files.forEach(file => {
        if (file.size > 5 * 1024 * 1024) {
          alert(`File ${file.name} is too large. Maximum size is 5MB.`);
          return;
        }
        const reader = new FileReader();
        reader.onload = function (e) {
          const base64 = e.target.result;
          const type = file.type.startsWith("video") ? "video" : "image";
          stored.push({ data: base64, type: type });
          localStorage.setItem("galleryMedia", JSON.stringify(stored));
          loadGalleryFromStorage(); // Refresh gallery display
        };
        reader.readAsDataURL(file);
      });
    });

    document.addEventListener('DOMContentLoaded', function () {
      loadGalleryFromStorage(); // Load existing media on page load
    });
  </script>
</body>
</html>
